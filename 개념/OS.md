**# 시스템 소프트웨어
- 시스템 소프트웨어는 시스템 전체를 작동시키는 프로그램으로, 프로그램을 주기억장치에 적재시키거나 인터럽트 관리, 장치관리, 언어 번역 등의 기능을 담당합니다.
- 시스템 소프트웨어의 가장 대표적인 프로그램으로 **운영체제**가 있으며, 그 외에는 언어 번역 프로그램, 매크로 프로세서, 링커, 라이브러리, 정렬/합병 프로그램, 로더 등이 있습니다.
- 시스템 소프트웨어는 기능별로 **제어 프로그램**과 **처리 프로그램**으로 분류 할 수 있습니다.

## 제어프로그램
### 감시프로그램
### 작업 제어 프로그램
### 자료 관리 프로그램

제어 프로그램은 시스템 전체의 작동 상태 감시, 작업의 순서 지정, 작업에 사용되는 데이터 관리 등의 역할을 수행하는 것으로 **감시 프로그램**과 **작업 제어 프로그램**으로 구분할 수 있습니다.

## 처리 프로그램
제어 프로그램의 지시를 받아 사용자가 요구한 문제를 해결하기 위한 프로그램으로, 언어 번역 프로그램과 서비스 프로그램, 문제 프로그램등으로 구분합니다.
### 언어 번역 프로그램
원시 프로그램을 기계어 형태의 목적 프로그램으로 번역하는 프로그램으로, 어셈블러, 컴파일러, 인터프리터가 있습니다.
### 서비스 프로그램
컴퓨터를 효율적으로 사용할 수 있는 사용빈도가 높은 프로그램으로 연결 편집기, 링커, 정렬/합병 프로그램, 라이브러리안, 유틸리티 프로그램 등이 있습니다.
### 문제프로그램
문제 프로그램특정 업무 및 문제 해결을 위해 사용자가 작성한 프로그램 입니다.


# 운영체제란?
운영체제(Operating System)는 **컴퓨터 시스템의 자원들을 효율적으로 관리하며**, **사용자가 컴퓨터를 편리하고, 효과적으로 사용할 수 있도록 환경을 제공하는 여러 프로그램의 모임**입니다. 운영체제는 컴퓨터 사용자와 컴퓨터 하드웨어 간의 인터페이스로서 동작하는 시스템 소프트웨어의 일종으로, 다른 응용프로그램이 유용한 작업을 할 수 있도록 환경을 제공해 줍니다.



## 운영체제의 종류 
운영체제의 종류에는 WIndows 98, Windows10, UNIX, LINUX, MS-DOS등이 있습니다.
단일 작업 처리 시스템에는 DOS, 다중 작업 처리 시스템에는 WINODWS, UNIX, LINUX등이 사용됩니다.
주로 WINDOWS는 개인용 UNIX, LINUX는 서버용 운영체제로 사용됩니다.


##운영체제의 목적
운영체제의 목적에는 
1. 처리능력 향상
2. 사용 가능도 향상
3. 신뢰도 향상
4. 반환 시간 단축
등이 있습니다. 처리능력, 반환시간, 사용가능도, 신뢰도는 운영체제의 성능을 평가하는 기준이 됩니다.

처리능력(Throughput) : 일정 시간 내에 시스템이 처리하는 일의 양
반환시간(Turn Around Time): 시스템에 작업을 의뢰한 시간부터 처리가 완료될 떄까지 걸린 시간
사용가능도(Availability) : 시스템을 사용할 필요가 있을 때 즉시 사용 가능한 정도
신뢰도(Reliabilty) : 시스템이 주어진 문제를 정확하게 해결하는 정도


## 운영체제의 기능
1. 프로세서, 기억장치, 입출력장치, 파일 및 정보 등의 자원을 관리합니다.
2. 자원을 효율적으로 관리하기 위해 자원의 스케줄링 기능을 제공합니다.
3. 사용자와 시스템간의 편리한 인터페이스를 제공합니다.
4. 시스템의 각종 하드웨어와 네트워크를 관리, 제어합니다.
5. 데이터를 관리하고, 데이터 및 자원의 공유 기능을 제공합니다.
6. 시스템의 오류를 검사하고 복구합니다.
7. 자원 보호 기능을 제공합니다.
8. 입 출력에 대한 보조 기능을 제공합니다.
9. 가상 계산기 능력을 제공합니다.

### 가상 계산기란?
한대의 컴퓨터를 여러 대의 컴퓨터처럼 보이게 하는 가상 컴퓨터 운영체제에 의해 만들어지며 사용자의 관점에서는 가상 컴퓨터가 실제 컴퓨터처럼 보일 수도 있고 아주 다르게 보일수도 있습니다.


##운영체제의 주요 자원관리


### 프로세스 관리 
프로세스 스케줄링 및 동기화 관리담당
프로세스 생성과 제거, 시작과 정지, 메시지 전달 등의 기능 담당 
###기억장치 관리
프로세스에게 메모리 할당 및 회수 관리 담당
###주변장치 관리
입 출력 장치 스케줄링 및 전반적인 관리 담당 
###파일 관리
파일의 생성과 삭제, 변경, 유지 등의 관리 담당 


##운영체제 운용기법
운영체제에는 여러가지 운용기법들이 존재하는데 크게 7가지가 존재합니다. 오늘날 사용하는 OS의 운용기법은 주로 **다중 모드 처리 방식**과 **분산 처리 시스템 방식**을 사용합니다.

### 일괄처리 시스템 
일괄 처리 시스템은 초기의 컴퓨터 시스템에서 사용된 형태로, 일정량 또는 일정 기간 동안 데이터를 모아서 **한꺼번에 처리하는 방식**입니다.

1. 일괄처리를 위해 적절한 작업 제어 언어(Job Control Language)를 제공해야 합니다.
2. 컴퓨터 시스템을 효율적으로 사용할 수 있습니다.
3. 반환시간(Turn Around Time)이 늦지만 하나의 작업이 모든 자원을 독점하므로 CPU 유휴 시간이 줄어듭니다.
4. 급여 계산, 지불 계산, 연말 결산등의 업무에 사용됩니다.

### 다중 프로그래밍 시스템 
다중 프로그래밍 시스템(Multi-Programming System)은 하나의 CPU와 주기억장치를 이용하여 **여러개의 프로그램을 동시에 처리**하는 방식입니다.

1. 하나의 주기억장치에 두개 이상의 프로그램을 기억시켜 놓고, **하나의 CPU와 대화 하면서 동시에 처리**합니다.
2. CPU의 사용률과 처리량이 증가합니다.



###시분할 시스템 

시분할 시스템(Time Sharing System)은 **여러 명의 사용자가 사용하는 시스템에서 컴퓨터가 사용자들의 프로그램을 번갈아가며 처리**해줌으로써 각 사용자에게 독립된 컴퓨터를 사용하는 느낌을 주는 것으로, 라운드 로빈(Round Robin)방식이라고도 합니다.

1. 여러 사용자가 각자의 단말장치를 통하여 동시에 운영체제와 대화하면서 각자의 프로그램을 실행합니다.
2. 하나의 CPU는 같은 시점에서 여러 개의 작업을 동시에 수행할 수 없기 때문에, CPU의 전체 사용시간을 작은 작업 시간량으로 쪼개어 그 시간량 동안만 번갈아가면서 CPU를 할당하여 각 작업을 처리합니다.
3. 다중프로그래밍 방식과 결합하여 모든 작업이 동시에 진행되는 것처럼 대화식 처리가 가능합니다.
4. 시스템의 전체 효율은 좋아지나 개인별 사용자 입장에서는 반응 속도가 느려질 수 있습니다.
5. 각 작업에 대한 응답 시간을 최소한으로 줄이는 것을 목적으로 하며, 하드웨어를 보다 능률적으로 사용할 수 있습니다.



### 다중처리 시스템 (중요)

다중 처리 시스템(Multi-Processing System)은 여러개의 CPU와 하나의 주기억장치를 이용하여 여러 개의 프로그램을 동시에 처리하는 방식입니다.

1. 하나의 CPU가 고장나더라도 다른 CPU를 이용하여 업무를 처리할 수 있으므로 시스템의 신뢰성과 안정성이 높습니다.
2. 여러 CPU는 **하나의 메모리를 공유**하며 단일 운영체제에 의해 관리됩니다.
3. 프로그램의 **처리 속도는 빠르지만 기억장치, 입출력장치 등의 자원 공유에 대한 문제점을 해결하여야 합니다.**

### 실시간 처리 시스템 

실시간 처리 시스템(Real Time Processing System)은 데이터 발생 즉시, 또는 데이터 처리 요구가 있는 즉시 처리하여 결과를 산출하는 방식입니다.

1. 처리시간이 단축되고, 처리 비용이 절감됩니다.
2. 우주선 운행, 교통 제어, 레이더 추적기, 핵물리학 실험 및 데이터 수집, 전화교란장치의 제어, 은행의 온라인 업무 등 시간에 제한을 두고 수행되어야 하는 작업에 주로 사용됩니다.



### 다중 모드 처리 

다중 모드 처리(Multi-Mode Processing)은 **일괄 처리 시스템, 시분할 시스템, 다중 처리 시스템, 실시간 처리 시스템을 한 시스템에서 모두 제공**하는 방식입니다.



### 분산 처리 시스템 
분산 처리 시스템(Distributed Processing System)은 **여러개의 컴퓨터(프로세서)를 통신 회선으로 연결하여 하나의 작업을 처리**하는 방식입니다. 각 단말장치나 컴퓨터 시스템은 고유의 운영체제와 CPU, 메모리를 가지고 있습니다.



## 운영체제의 운용기법의 발달과정

1세대 : 일괄처리 시스템
2세대 : 다중프로그래밍 시스템, 다중 처리 시스템, 시분할 시스템, 실시간 처리 시스템
3세대 : 다중모드
4세대 : 분산 처리 시스템


# 절대로더링커(연결 편집기)
링커는 **언어 번역 프로그램이 생성한 목적 프로그램들과 라이브러리 또 다른 실행 프로그램등을 연결하여 실행 가능한 로드 모듈을 만드는 시스템 소프트웨어이며 연결 편집기라고도 합니다.** 링커는 연결 기능만 수행하는 **로더의 한 형태**로, 링커에 의해 수행되는 작업을 링킹이라고 합니다.

## 로더란 무엇인가?
로더는 **컴퓨터 내부로 정보를 들여오거나** 로드 모듈을 디스크 등의 **보조기억장치로 부터 주 기억장치에 적재하는 시스템 소프트웨어**입니다.

### 로더의 기능
- 할당 : 실행 프로그램을 실행시키기 위해 기억장치 내에 옮겨놓을 공간을 확보하는 기능
- 연결 : 부 프로그램 호출 시 그 부 프로그램이 할당된 기억장소의 시작주소를 호출한 부분에 등록하여 연결하는 기능
- 재배치 : 디스크등의 보조기억장치에 저장된 프로그램이 사용하는 각 주소들을 할당된 기억장소의 실제 주소로 배치시키는 기능
- 적재 : 실행 프로그램을 할당된 기억공간에 실제로 옮기는 기능


### 로더의 종류
1. Complie And Go 로더
별도의 로더 없이 언어 번역 프로그램이 로더의 기능까지 수행하는 방식입니다. 연결기능은 수행하지 않고 할당, 재배치, 적재 작업을 모두 언어 번역 프로그램이 담당합니다.
2. 절대로더
목적 프로그램을 기억장소에 적재시키는 기능만 수행하는 로더로 로더 중 가장 간단한 프로그램으로 구성되어 있습니다. 기억장소 할당이나 연결을 프로그래머가 직접 지정하며 한번 지정한 주기억장소의 위치는 변경이 어렵습니다.
3. 직접 연결 로더
일반적인 기능의 로더로, 로더의 기본 기능 네 가지를 모두 수행하는 로더입니다. 재배치 로더라고도 합니다.
4. 동적 적재 로더
프로그램을 한꺼번에 적재하는것이 아니라 실행 시 필요한 부분만을 적재하고, 나머지 부분을 보조기억장치에 저장해두는 것으로, 호출 시 적재라고도 합니다. 프로그램의 크기가 주 기억장치의 크기보다 큰 경우에 유리한 방법입니다.



# 프로세스란?
프로세스는 일반적으로 **CPU에 의해 처리되는 사용자 프로그램, 시스템 프로그램** 즉 실행중인 프로그램을 의미하며, 작업(Job) 태스크(Task)라고도 합니다.

프로세스는 다음과 같이 여러 형태로 정의할 수 있습니다.
1. PCB를 가진 프로그램
2. 실기억장치에 저장된 프로그램
3. 프로세서가 할당되는 실체로서, 디스패치가 가능한 단위
4. 프로시저가 활동중인 것
5. 비동기적 행위를 일으키는 주체
6. 지정된 결과를 얻기 위한 일련의 계통적 동작
7. 목적 또는 결과에 따라 발생되는 사건들의 과정
8. 운영체제가 관리하는 실행 단위

## 프로시저란?
한 프로그램은 여러개의 작은 프로그램으로 분할될 수 있는데 이떄 분할된 작은 프로그램을 의미하며, 부 프로그램이라고도 합니다.






## 프로세스 상태
![process](process.png)

제출 : 작업을 처리하기 위해 사용자가 작업을 시스템에 제출한 상태입니다.

접수 : 제출된 작업이 스풀 공간인 디스크의 할당 위치에 저장된 상태입니다

준비 : 프로세스가 프로세서를 할당받기 위해 기다리고 있는 상태입니다. 프로세스는 준비상태 큐(스케줄링 큐)에서 실행을 준비하고 있으며 접수상태에서 준비 상태로의 전이는 Job 스케줄러에 의해 수행됩니다.

실행 : 준비상태 큐에 있는 프로세스가 프로세서를 할당받아 실행되는 상태이며 프로세스 수행이 완료되기 전에 프로세스에게 주어진 프로세서 할당 시간이 종료 되면 프로세스는 준비상태로 전환됩니다. 실행중인 프로세스에 **입출력 처리가 필요하면 실행중인 프로세스는 대기상태로 전이**되며, 실행상태로의 전이는 CPU 스케줄러에 의해 수행됩니다.

대기 : 프로세스에 입출력 처리가 필요하면 현재 실행중인 프로세스가 중단되고, 입출력 처리가 완료될떄까지 대기하고 있는상태입니다.

종료 : 프로세스의 실행이 끝나고 프로세스 할당이 해제된 상태입니다.



프로세스 상태전이 관련 용어

Dispatch : 준비 상태에서 대기하고 있는 프로세스 중 하나가 프로세서를 할당받아 실행 상태로 전이되는 과정

Wake Up : 입 출력 작업이 완료되어 프로세스가 대기 상태에서 준비 상태로 전이되는 과정
.
Spooling : 입 출력 장치의 공유 및 상대적으로 느린 입출력 장치의 처리속도를 보완하고 다중 프로그래밍 시스템의 성능을 향상시키기 위해 입 출력할 데이터를 직접 입출력장치에 보내지 않고 나중에 **한꺼번에 입출력하기 위해 디스크에 저장하는 과정**

교통량 제어기 : 프로세스의 상태에 대한 조사와 통보 담당


#PCB
PCB(프로세스 제어블록)는 **운영체제가 프로세스에 대한 중요한 정보를 저장**해 놓는 곳으로 Task Control Block 또는 Job Control Block이라고도 합니다.
**각 프로세스가 생성될 때마다 고유의 PCB가 생성**되며 프로세스가 완료되면 PCB는 제거됩니다.

PCB에 저장되어 있는 정보
| 저장정보              | 설명                                                                                                                                                                 |
| ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 프로세스의 현재 상태       | 준비, 대기, 실행 등의 프로세스 상태                                                                                                                                              |
| 포인터               | 1. 부모 프로세스에 대한 포인터 : 부모 프로세스의 주소 기억, 2. 자식 프로세스에 대한 포인터 : 자식 프로세스의 주소 기억 3.프로세스가 위치한 메모리에 대한 포인터 : 현재 프로세스가 위치한 주소 기억 4. 할당된 자원에 대한 포인터 : 프로세스에 할당된 각 자원에 대한 주소 기억 |
| 프로세스 고유 식별자       | 프로세스를 구분할 수 있는 고유의 번호                                                                                                                                              |
| 스케줄링 및 프로세스의 우선순위 | 스케줄링 정보 및 프로세스가 실행될 우선순위                                                                                                                                           |
| CPU 레지스터 정보       | Accumulator, Index Register, 범용 레지스터, PC등에 대한 정보                                                                                                                   |
| 주기억장치 관리 정보       | Base Register, Page Table에 대한 정보                                                                                                                                   |
| 입,출력 상태 정보        | 입출력장치, 개방된 파일 목록                                                                                                                                                   |
| 계정 정보             | CPU 사용시간, 실제 사용 시간, 한정된 시간                                                                                                                                         |



##부모 프로세스/ 자식 프로세스란?
하나의 프로세스로 다른 프로세스를 생성할 수 있는데, 이떄 생성되는 프로세스를 자식 프로세스라 하고 기존에 있는 프로세스를 부모 프로세스라고 합니다.

##기준 레지스터란?
주 기억장치가 분할된 영역으로 나뉘어 관리될 떄, 프로그램이 한 영역에서 다른 영역으로 옮겨지도라도 명령의 주소 부분을 바꾸지 않고 정상적으로 수행될 수 있도록 하기 위한 레지스터

#Page Table이란?
페이징 기법에서 주소 변환을 위해 페이지가 존재하는 주기억장치의 위치 정보를 가지고 있는 테이블을 의미합니다.


## 스케줄링이란?
스케줄링은 **프로세스가 생성되어 실행될때 필요한 시스템의 여러자원을 해당 프로세스에게 할당하는 작업**을 의미합니다.

프로세스가 생성되어 완료될때까지 프로세스는 여러 종류의 스케줄링 과정을 거치게 됩니다.

스케줄링의 종류에는 장기 스케줄링, 중기 스케줄링, 단기 스케줄링이 있습니다.

### 장기 스케줄링

어떤 프로세스가 **시스템의 자원을 차지할 수 있도록 할 것인가를 결정하여 준비상태 큐로 보내는 작업을** 의미합니다. 작업 스케줄링, 상위 스케줄링이라고도 하며, 작업 스케줄러에 의해 수행됩니다. 

### 중기 스케줄링 

**어떤 프로세스들이 CPU를 할당 받을 것인지 결정하는 작업을 의미합니다.** CPU를 할당받으려는 프로세스가 많을 경우 프로세스를 일시 보류시킨 후 활성화해서 일시적으로 부하를 조절합니다.

### 단기 스케줄링  

프로세스가 실행되기 위해 CPU를 할당받는 **시기와 특정 프로세스를 지정**하는 작업을 의미합니다. 프로세서 스케줄링, 하위 스케줄링이라고도 합니다. 프로세서 스케줄링 및 문맥 교환은 프로세서 스케줄러에 의해 수행됩니다. 

## 스케줄링의 목적
스케줄링은 CPU나 자원을 효율적으로 사용하기 위한 정책으로 아래와 같은 목적을 가지고 있습니다.


- 공정성 : 모든 프로세스에 **공정하게 할당**합니다.

- 처리율(량)증가 : 단위 시간당 프로세스를 처리하는 비율(양)을 증가시킵니다.

- CPU 이용률 증가 : 프로세스 실행 과정에서 주 기억장치를 액세스한다든지, **입출력 명령실행 등의 원인에 의해 발생할 수 있는 CPU의 낭비 시간을 줄이고**, CPU가 순수하게 프로세스를 실행하는데 사용되는 시간 비율을 증가시킵니다.

- 우선순위 제도 : 우선순위가 높은 프로세스를 먼저 실행합니다.

- 오버헤드 최소화 : 오버헤드를 최소화합니다.

- 응답시간 최소화 : 작업을 지시하고 반응하기 시작하는 시간을 최소화합니다.

- 반환시간 : 프로세스를 제출한 시간부터 실행이 완료되는 시간을 최소화합니다.

- 반환시간 최소화 : 프로세스를 제출한 시간부터 실행이 완료될떄까지 걸리는 시간을 최소화합니다.

- 대기시간 최소화 : 프로세스가 준비상태 큐에서 대기하는 시간을 최소화합니다.

- 균형있는 자원의 사용 : 메모리, 입출력장치 등의 자원을 균형있게 사용합니다.

- 무한 연기 회피 : 자원을 사용하기 위해 무한정 연기되는 상태를 회피합니다.


## 프로세서 스케줄링의 기법

### 비선점 스케줄링

1. 이미 할당된 CPU를 다른 프로세스가 강제로 빼앗아 사용할 수 없는 스케줄링 기법입니다.

2. 프로세스가 CPU를 할당받으면 해당 프로세스가 완료될때까지 CPU를 사용합니다.

3. 프로세스 응답 시간의 예측이 용이하며, 일괄 처리 방식에 적합합니다.

4. 중요한 작업(짧은 작업)이 중요하지 않은 작업(긴 작업)을 기다리는 경우가 발생할 수 있습니다.

5. 비선점 스케줄링의 종류에는 FCFS, SJF, 우선순위, HRN, 기한부 등의 알고리즘이 있습니다.



### 선점 스케줄링

1. 하나의 프로세스가 CPU를 할당받아 실행하고 있을 떄 우선순위가 높은 다른 프로세스가 CPU를 강제로 빼앗아 사용할 수 있는 스케줄링 기법입니다.

2. 우선순위가 높은 프로세스를 빠르게 처리할 수 있습니다.

3. 주로 빠른 응답시간을 요구하는 대화식 시분할 시스템에 사용됩니다.

4. 많은 오버헤드를 초래합니다.

5. 선점이 가능하도록 일정 시간 배당에 대한 인터럽트용 타이머 클록이 필요합니다.

6. 선점 스케줄링의 종류에는 라운드로빈, SRT, 선점 우선순위, 다단계 큐, 다단계 피드백 큐 등의 알고리즘이 있습니다.



※ 인터럽트용 타이머 클록이란?

하나의 시스템 내에서 동작하는 장치들을 감시하기 위해 주기적인 신호를 발생하는 것으로, 하나의 프로세스가 자원을 독점하지 못하도록 방지하기 위해 사용됩니다.



# 병행 프로세스 

병행 프로세스는 두개이상의 프로세스들이 동시에 존재하며 실행 상태에 있는 것을 의미합니다.

여러 프로세스들이 독립적으로 실행되는 것을 **독립적 병행 프로세스**, 서로 협력하며 동시에 실행되는 것을 **협동적 병행 프로세스**라고 합니다.

병행 프로세스는**다중 처리 시스템이나 분산 처리 시스템**에서 중요한 개념으로 사용됩니다.



## 임계 구역 

임계구역은 다중 프로그래밍 운영체제에서 여러개의 프로세스가 공유하는 데이터 및 자원에 대하여 어느 **한 시점에서는 하나의 프로세스만 자원 또는 데이터를 사용하도록 지정된 공유 자원**을 의미합니다.

임계구역에는 **하나의 프로세스만** 접근할 수 있으며, 해당 프로세스가 **자원을 반납한 후에**만 다른 프로세스가 자원이나 데이터를 사용할 수 있습니다.

임계 구역은 특정 프로세스가 독점할 수 없으며, **임계 영역에서 수행중인 프로세스는 인터럽트가 불가능**합니다.

임계 구역의 자원이나 데이터는 여러 프로세스가 사용해야 하므로 임계 구역 내에서의 작업은 신속하게 이루어져야 합니다.

프로세스가 임계 구역에 대한 진입을 요청하면 일정시간 내에 진입을 허락해야 합니다.

현재 임계 구역에서 실행되는 프로세스가 없다면 임계 구역 사용을 기다리고 있는 **잔류 영역에 있는 프로세스의 사용을 허락**해야 하며, 그 이외에 있는 프로세스는 임계 구역에 진입할 수 없습니다.


## 상호배제 기법 

상호배제는 **특정 프로세스가 공유자원을 사용하고 있을 경우 다른 프로세스가 해당 공유 자원을 사용하지 못하게 제어하는 기법**을 의미합니다.

여러 프로세스가 동시에 공유 자원을 사용할 때 각 프로세스가 번갈아가며 공유 자원을 사용하도록 하는 것으로,**임계 구역을 유지하는 기법**입니다.

상호 배제 기법을 구현하기 위한 방법에는 **소프트웨어적 구현과 하드웨어적 구현**이 있습니다.



## 동기화 기법 

동기화 기법은 두개 이상의 프로세스를 한 시점에서는 동시에 처리할 수 없으므로 각 프로세스에 대한 처리 순서를 결정하는 것으로, **상호 배제의 한 형태**입니다.

동기화를 구현할 수 있는 방법에는 1. 세마포어와 2. 모니터가 있습니다.



## 세마포어

세마포어는 신호기, 깃발을 뜻하며, 각 프로세스에 **제어 신호를 전달하여 순서대로 작업을 수행하는 기법**입니다.

세마포어는 다익스트라가 제안하였으며 P와 V라는 두개의 연산에 의해서 동기화를 유지시키고 상호 배제의 원리를 보장합니다.

프로세스가 자원을 사용하려고 할 경우 먼저 **세마포어 변수를 통해 다른 프로세스가 자원을 점유하고 있는지 조사**합니다. 자원을 사용할 수 있으면 해당 자원을 점유한 후 자원이 점유되었다는 것을 알리고, 다른 프로세스가 이미 자원을 점유 한 상태라면 자원을 사용할 수 있을 떄까지 기다립니다.

**프로세스가 자원 사용을 마치면 자원을 반납하므로 자원의 사용을 위해 기다리는 프로세스에게 이 사실을 알립니다.**



## 모니터

모니터는 동기화를 구현하기 위한 특수 프로그램 기법으로 특정 공유 자원을 프로세스에게 할당하는데 필요한 데이터와 이 데이터를 처리하는 프로시저로 구성됩니다. 

**자료 추상화와 정보 은폐 개념을 기초**로 하며 공유 자원을 할당하기 위한 병행성 구조로 이루어져 있습니다.

모니터 내의 공유자원을 사용하려면 프로세스는 반드시 모니터의 진입부를 호출해야 합니다.

외부 프로시저는 직접 액세스 할 수 없습니다.

모니터의 경계에서 상호 배제가 시행됩니다.

모니터에는 **한 순간에 하나의 프로세스만 진입하여 자원을 사용할 수 있습니다.**

모니터에는 Wait와 Signal 연산이 사용됩니다. 

[뮤텍스 세마포어 모니터 차이]https://about-myeong.tistory.com/34


# 교착상태란?
교착상태(Dead Lock)은 상호 배제에 의해 나타나는 문제점으로, 둘 이상의 프로세스들이 자원을 점유한 상태에서 서로 다른 프로세스가 점유하고 있는 자원을 요구하며 무한정 기다리는 현상을 의미합니다.


자동차(프로세스)들이 현재 위치한 길(자원)을 점유함과 동시에 다른 차가 사용하는 길을 사용하려고 대기하고 있지만 다른 길을 사용할 수 없으며 현재 길에서도 벗어나지 못하는 상태입니다.



## 교착상태 발생의 필요 충분 조건
교착상태가 발생하기 위해서는 다음의 네가지 조건이 충족되어야 하는데, 이 네가지 조건중 **하나라도 충족되지 않으면 교착상태가 발생하지 않습니다.**



### 상호배제(Mutual Exclusion)

한번에 한개의 프로세스만이 공유 자원을 사용할 수 있어야 합니다. 

### 점유와 대기(Hold and Wait) 

최소한 하나의 자원을 점유하고 있으면서 다른 프로세스에 할당되어 사용되고 있는 자원을 추가로 점유하기 위해 대기하는 프로세스가 있어야 합니다. 

### 비선점(Non-preemption)

다른 프로세스에 할당된 자원은 사용이 끝날 때까지 강제로 빼앗을 수 없어야합니다. 

### 환형 대기(Circular Wiat) 

공유자원과 공유자원을 사용하기 위해 대기하는 프로세스들이 원형으로 구성되어 있어 자신에게 할당된 자원을 점유하면서 앞이나 뒤에 있는 프로세스의 자원을 요구해야 합니다. 



## 예방기법(Prevention)
교착상태 예방 기법은 교착상태가 발생하지 않도록 사전에 시스템을 제어하는 방법으로 교착상태 발생의 네가지 조건 중에서 어느 하나를 제거함으로써 수행됩니다. **자원 낭비가 가장 심한 기법입니다.**



상호 배제(Mutual Exclusion)부정 : 한번에 여러개의 프로세스가 공유 자원을 사용할 수 있도록 합니다.

점유 및 대기(Hold and Wait) 부정 : 프로세스가 실행되기 전 **필요한 모든 자원을 할당하여 프로세스 대기를 없애**거나 자원이 점유되지 않은 상태에서만 자원을 요구하도록 합니다.

비선점(Non-preemption)부정 : 자원을 점유하고 있는 프로세스가 다른 자원을 요구할 때 **점유하고 있는 자원을 반납하고, 요구한 자원을 사용하기 위해 기다리게 합니다.**

환형 대기(Circular Wait)부정 : 자원을 선형 순서로 분류하여 고유 번호를 할당하고, 각 프로세스는 현재 점유한 자원의 **고유 번호보다 앞이나 뒤 어느 한쪽 방향으로만 자원을 요구하도록 하는것**입니다.





## 회피 기법(Avoidance)
교착상태 회피 기법은 **교착상태가 발생할 가능성을 배제하지 않고 교착상태가 발생하면 적절히 피해나가는 방법**으로, 주로 은행원 알고리즘(Banker's Algorithm)이 사용됩니다.



## 은행원 알고리즘

은행원 알고리즘은 다익스트라가 제안한 기법으로, 은행에서 모든 고객의 요구가 충족되도록 현금을 할당하는데서 유래한 기법입니다.

각 프로세스에게 자원을 할당하여 교착상태가 발생하지 않으며 모든 프로세스가 완료될 수 있는 상태를 안전상태, 교착상태가 발생할 수 있는 상태를 불안전 상태라고 합니다.

**은행원 알고리즘을 적용하기 위해서는 자원의 양과 사용자(프로세스) 수가 일정해야 합니다.**
은행원 알고리즘은 프로세스의 모든 요구를 **유한한 시간안에 할당하는 것을 보장**합니다.





발견기법(Detection)
교착상태 발견 기법은 시스템에 교착상태가 발생했는지 점검하여 교착상태에 있는 프로세스와 자원을 발견하는 것을 의미합니다.

1. 교착상태 발견 알고리즘과 자원 할당 그래프 등을 사용 할 수 있습니다.





회복기법(Recovery)
교착상태 회복 기법은 교착상태를 일으킨 프로세스를 종료하거나 교착상태의 프로세스에 할당된 자원을 선점하여 프로세스나 자원을 회복하는 것을 의미합니다.



프로세스 종료

교착상태에 있는 프로세스를 종료하는 것으로, 교착상태에 있는 모든 프로세스를 종료하는 방법과 교착상태에 있는 프로세스들을 하나씩 종료해가며 교착상태를 해결하는 방법이 있습니다.



자원선점

교착상태의 프로세스가 점유하고 있는 자원을 선점하여 다른 프로세스에게 할당하며, 해당 프로세스를 일시 정지시키는 방법입니다. 우선순위가 낮은 프로세스, 수행된 정도가 적은 프로세스, 사용되는 자원이 적은 프로세스 등을 위주로 해당 프로세스의 자원을 선점합니다.



※ 자원 선점시 고려사항

1. 자원 을 선점할 프로세스 선택 문제 : 최소의 피해를 줄 수 있는 프로세스를 선택합니다.

2. 자원을 선점한 프로세스의 복귀 문제 : 자원이 부족한 상태이므로 대부분 일시 중지시키고 다시 시작하는 방법을 사용합니다.

3. 기아 현상 문제 : 한 프로세스가 계속하여 자원 선점 대상이 되지 못하도록 고려해야 합니다.

# 기억장치 계층 구조의 특징
기억장치는 레지스터, 캐시 기억장치, 주기억장치, 보조기억장치등이 있습니다.

계층 구조에서 상위의 기억장치일수록 접근 소도와 접근 시간이 빠르지만 기억 용량이 적고 비쌉니다.

주기억장치는 각기 자신의 주소를 갖는 워드 또는 바이트들로 구성되어 있으며, **주소를 이용하여 액세스 할 수 있습니다.**

레지스터, 캐시 기억장치, 주기억장치의 프로그램과 데이터는 CPU가 직접 액세스할 수 없습니다.

보조기억장치에 있는 데이터는 주기억장치에 적재된 후 CPU에 의해 액세스될 수 있습니다.


## 운영체제의 기억장치의 관리 전략
기억장치의 관리 전략은 보조기억장치의 프로그램이나 데이터를 주기억장치에 적재시키는 시기, 적재 위치등을 지정하여 한정된 주기억장치의 공간을 효율적으로 사용하기 위한 것으로 반입(Fetch)전략, 배치(Placement)전략, 교체(Replacement)전략이 있습니다.



## 반입(Fetch)전략

보조기억장치에 보관중인 프로그램이나 데이터를 언제 주기억장치로 적재할 것인지를 결정하는 전략입니다.

요구 반입(Demand Fetch) : 실행중인 프로그램이 특정 프로그램이나 데이터등의 참조를 요구할 때 적재하는 방법

예상반입(Anticipatory Fetch) : 실행중인 프로그램에 의해 참조될 프로그램이나 데이터를 미리 예상하여 적재하는 방법



## 배치전략(Placement)전략

새로 반입되는 프로그램이나 데이터를 주기억장치의 어디에 위치시킬 것인지를 결정하는 전략입니다.

최초적합(First Fit) : 프로그램이나 데이터가 들어갈 수 있는 크기의 빈 영역 중에서 첫번째 분할 영역에 배치시키는 방법

최적 적합(Best Fit) : 프로그램이나 데이터가 들어갈 수 있는 크기의 빈 영역중에서 단편화를 가장 작게 남기는 분할 영역에 배치시키는 방법

최악 적합(Worst Fit) : 프로그램이나 데이터가 들어갈 수 있는 크기의 빈 영역중에서 단편화를 가장 많이 남기는 분할 영역에 배치시키는 방법



※ 단편화

주기억장치의 분할된 영역에 프로그램이나 데이터를 할당할 경우, 분할된 영역이 프로그램이나 데이터보다 작거나 커서 생기는 빈 기억공간을 의미합니다.



## 교체전략(Replacement) 전략

주기억장치의 모든 영역이 이미 사용중인 상ㅌ에서 새로운 프로그램이나 데이터를 주기억장치에 배치시키려고 할때, 이미 사용되고 있는 영역중에서 어느 영역을 교체하여 사용할 것이낙를 결정하는 전략입니다.

※ 교체전략에는 FIFO, OPT, LRU, LFU, NUR, SCR등이 있습니다...